---
title: WSL
---

import { Aside, Badge, Steps } from "@astrojs/starlight/components";

In this part, we're mainly concerned about WSL 2 itself, or in more precise terms the WSL _kernel_.

As we will install [a different distro](archwsl) than the default (Ubuntu) in a second anyway,
we won't bother about that particula part of Microsoft's official documentation.

## Enable the Windows Feature

<Aside>

It seems as if you don't longer need to manually enable the Windows Feature manually/yourself,
as [this comment](https://devblogs.microsoft.com/commandline/install-wsl-with-a-single-command-now-available-in-windows-10-version-2004-and-higher/?commentid=5587#comment-5587)
suggests.

I'll still leave the following info intact, because we all know what
beautiful, reliable and stable pieces of software _Microsoft Windows_
and the _Microsoft Store_ are... <sub>`sarcasm.delete();`</sub>

</Aside>

You might want to enable the `Windows Subsystem for Linux` Windows feature.
You can either try opening your _Windows Search_ and searching for `Turn Windows features on or off`,
or you can dig your way through the _Control Panel_.

<Aside type="caution">

For [WSLg](https://github.com/microsoft/wslg) to work properly, you need to make sure you're running Windows 11,
or the minimum required version of Windows 10 (Version 2004 or higher / Build 19041 or higher).

</Aside>

## Install / Update WSL

<Aside>

Microsoft recommends installing the Distro from the Microsoft store,
but also specifies the commands below in their official documentation.

In my experience, depending on your installation,
or whether or not your Microsoft Store has shot itself in the foot yet,
the installation is a little incoherent.

When in doubt, use the
[official Microsoft installation documentation](https://learn.microsoft.com/en-us/windows/wsl/install).

</Aside>

To install WSL from a `cmd.exe`-prompt or _PowerShell_ run

```ps
wsl.exe --install --no-distribution
```

with **elevated** privileges,
or if you've already installed WSL in the past, run

```ps
wsl.exe --update
```

also from an **elevated** prompt.

### JustWorks<sup>TM</sup>? <Badge text="Special" variant="tip" />

<Aside>

This should only be neccessary if your Windows is locked down, the Microsoft Store is disabled, or similar.

</Aside>

As it turns out, if you're in a pretty restricting corporate setting,
the Windows environment is somewhat ... let's say botched.
The only way I was able to install WSL successfully,
is by using the manual installation method.

<Steps>

1.  Download the [latest WSL release](https://github.com/microsoft/WSL/releases) (the `.msixbundle`)
2.  Install it by running

    ```ps
    Add-AppxPackage Microsoft.WSL_{version}_{arch}.msixbundle
    ```

3.  Proceed with the [ArchWSL](archwsl) chapter.

</Steps>

<Aside type="tip">

If `wsl --update` doesn't work (in addition to `wsl --install [...]`),
you might need to repeat this ordeal, when you want to _update_ WSL.

</Aside>
